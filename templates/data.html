<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Empreinte Carbone</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Empreinte Carbone par Pays</h1>
    
    <form action="/data" method="get">
        <label for="country">Sélectionnez un pays :</label>
        <select name="country" id="country">
            <option value="World">Monde</option>
            <option value="France">France</option>
            <option value="United States">États-Unis</option>
            <option value="China">Chine</option>
        </select>
        <button type="submit">Filtrer</button>
    </form>

    <h2>Données pour {{ country }}</h2>
    <table>
        <tr>
            <th>Source</th>
            <th>% Utilisation</th>
            <th>Contribution CO2 (g/kWh)</th>
            <th>Nombre d'arbres nécessaires</th>
        </tr>
        {% for row in data %}
        <tr>
            <td>Charbon</td>
            <td>{{ row['coal'] }}%</td>
            <td>{{ row['emission_contribution'] }}</td>
            <td>{{ row['trees_needed'] }}</td>
        </tr>
        <tr>
            <td>Gaz</td>
            <td>{{ row['gas'] }}%</td>
            <td>{{ row['emission_contribution'] }}</td>
            <td>{{ row['trees_needed'] }}</td>
        </tr>
        {% endfor %}
    </table>

    <h2>Carte des émissions</h2>
    <iframe src="{{ map_path }}" width="100%" height="500px"></iframe>

</body>
</html>